(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{445:function(e,r,s){e.exports=s.p+"assets/img/01.62c5676c.jpg"},446:function(e,r,s){e.exports=s.p+"assets/img/02.f128b144.jpg"},508:function(e,r,s){"use strict";s.r(r);var t=s(2),n=Object(t.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"使用winsw把frp包装成服务开机自启动"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用winsw把frp包装成服务开机自启动"}},[e._v("#")]),e._v(" 使用WinSW把frp包装成服务开机自启动")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("到 "),r("a",{attrs:{href:"https://github.com/winsw/winsw/releases/tag/v2.12.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/winsw/winsw/releases/tag/v2.12.0"),r("OutboundLink")],1),e._v(" 下载对应版本的.exe文件，我下载的是x64版本。")])]),e._v(" "),r("li",[r("p",[e._v("我的frpc.exe和frpc.ini文件都放在了 D:\\frpc目录下（D:\\frpc\\frpc.exe），把 WinSW-x64.exe 放到与 frpc.exe 同级目录下（D:\\frpc\\WinSW-x64.exe）。")])]),e._v(" "),r("li",[r("p",[e._v("把 WinSW-x64.exe 重命名为一个有意义的名字，如 "),r("strong",[e._v("frpc-service.exe")]),e._v(" 。")])]),e._v(" "),r("li",[r("p",[e._v("在 "),r("strong",[e._v("frpc-service.exe")]),e._v(" 所在目录下，新建 "),r("strong",[e._v("frpc_service.xml")]),e._v(" 。")])]),e._v(" "),r("li",[r("p",[r("strong",[e._v("frpc_service.xml")]),e._v(" 的内容：")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("<service>\n  <id>frpc-service</id>\n  <name>frpc-service</name>\n  <description>frpc内网穿透客户端服务</description>\n  <startmode>Automatic</startmode>\n  <executable>frpc</executable>\n  <arguments>-c frpc.ini</arguments>\n</service>\n")])])])]),e._v(" "),r("li",[r("p",[e._v("以"),r("strong",[e._v("管理员")]),e._v("身份打开cmd，切到exe所在目录。执行如下命令：")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("D:\n\ncd frpc\n\nfrpc-service.exe install\n")])])])]),e._v(" "),r("li",[r("p",[e._v("执行完后，命令行显示成功信息，D:\\frpc目录下会多出 "),r("strong",[e._v("frpc-service.wrapper.log")]),e._v(" 文件。")]),e._v(" "),r("p",[r("img",{attrs:{src:s(445),alt:"在这里插入图片描述"}})])]),e._v(" "),r("li",[r("p",[e._v("输入 "),r("code",[e._v("frpc-service.exe start")]),e._v(" ，启动服务。")])]),e._v(" "),r("li",[r("p",[e._v("在任务栏的搜索框中搜索 "),r("strong",[e._v("服务")]),e._v(" 或者 "),r("strong",[e._v("services")]),e._v(" 打开Windows服务。会看到服务已经成功启动。并且开机会自动启动该frpc服务。")]),e._v(" "),r("p",[r("img",{attrs:{src:s(446),alt:"在这里插入图片描述"}})])])])])}),[],!1,null,null,null);r.default=n.exports}}]);